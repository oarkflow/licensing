# TypeScript SDK - Basic Example

This example demonstrates how to use the TypeScript Licensing SDK to:

1. Load credentials from a JSON file
2. Load and decrypt a stored license file
3. Check license validity and expiration
4. Access license data and check features/scopes

## Prerequisites

- Node.js 18+ or later
- A valid license file (`.license.dat`) generated by the Go SDK client
- Or a credentials JSON file

## Setup

```bash
# Install dependencies
npm install

# Or use pnpm/yarn
pnpm install
```

## Usage

### Verify a License File

```bash
# Using tsx (recommended for development)
npx tsx index.ts --license-file ~/.licensing-example/.license.dat

# Or with npm script
npm start -- --license-file ~/.licensing-example/.license.dat
```

### Load Credentials File

```bash
npx tsx index.ts --credentials-file ./license-credentials.json
```

### Credentials File Format

Create a JSON file with your license credentials:

```json
{
  "email": "user@example.com",
  "client_id": "client-123",
  "license_key": "XXXX-XXXX-XXXX-XXXX-XXXX-XXXX-XXXX-XXXX"
}
```

## Example Output

```
=== TypeScript Licensing SDK - Basic Example ===

ğŸ“„ Loading license from: ~/.licensing-example/.license.dat
ğŸ” Verifying signature...
ğŸ”“ Decrypting license...
âœ… License verified and decrypted!

=== License Information ===
ID:            lic_abc123
Email:         john@example.com
Client ID:     client-xyz
Plan:          enterprise
Issued:        1/1/2025, 12:00:00 AM
Expires:       1/1/2026, 12:00:00 AM
Max Devices:   3
Activations:   1
Check Mode:    each_execution

=== Feature Entitlements ===
Product: my-saas-app
Plan:    enterprise

  Feature: gui - âœ… Enabled
    - list: allow
    - create: allow
    - update: allow
    - delete: allow
  Feature: cli - âœ… Enabled
    - execute: allow
  Feature: api - âœ… Enabled
    - requests: limit (limit: 10000)

=== Feature Checks ===
âœ… Feature 'gui' is available
âœ… Feature 'cli' is available
âœ… Feature 'api' is available
âŒ Feature 'premium' is not available

=== Scope Checks ===
âœ… Can gui:list
âœ… Can gui:create
âœ… Can gui:update
âœ… Can gui:delete
âŒ Cannot api:read
âŒ Cannot api:write

=== Done ===
```

## Note

This SDK currently focuses on **license verification** (decrypting and validating stored license files). For full activation flow (generating device fingerprint, contacting the server), use the Go SDK which provides the complete client implementation.

The workflow is:
1. Use Go SDK to activate and store the license (`.license.dat`)
2. Use this TypeScript SDK to verify and check features in your Node.js application

## API Reference

See the main [TypeScript SDK README](../../README.md) for complete API documentation.
